# 8.2 Домашнее задание
Надо было реализовать два эндпоинат, которые тянут данные с api Центрального Банка России.

## Swagger
[Swagger (клибкабельно)](http://localhost:8080/swagger-ui/index.html#/) подключен и в нем можно найти описание контроллеров и сущеностей.

Остальные классы служат хелперами для главной цели, а именно получения и обработки данных с api.

## `CentralBankService`
Этот класс отвечает за работу с валютными курсами, полученными из внешних API, и их конвертацию.

`getValueOfCurrencyByCode(String code)`: получает курс валюты по коду валюты через вызов API и парсинг данных.

`convertCurrency(ConvertCurrencyRequest request)`: осуществляет конвертацию валют на основании запроса, проверяет корректность входных данных и обрабатывает ошибочные сценарии.

`private calculateConversion(ConvertCurrencyRequest request, String currencyData)`: рассчитывает конвертацию валюты, поддерживает конвертацию как в рубли (RUB), так и между другими валютами.

## `CurrencyApiService`
Данный класс отвечает за взаимодействие с внешним api для получения данных о курсах валют. Также он использует кэширование и шаблон Circuit Breaker для обеспечения устойчивости.

`fetchCurrencyDataWithRequest(ConvertCurrencyRequest request)`: получает данные о валюте через внешний API, кэширует результат, использует Circuit Breaker для устойчивости.

`fetchCurrencyDataWithCode(String code)`: аналогично предыдущему методу, но принимает код валюты в качестве параметра.

`fallbackFetchCurrencyData`: метод отката, если основной запрос завершился ошибкой (например, сервис недоступен).

## `CurrencyParserService`
Данный класс отвечает за работу парсинга данных XML для извлечения курса валюты по её коду.

`getCurrencyValueByCode(String code, String xmlData)`: этот метод принимает код валюты и строку XML, извлекает курс валюты с помощью объекта ParseXML. Если курс не найден или пуст, выбрасывается кастомную ошибку CurrencyNotFoundException.

## `ParseXML`
Этот класс отвечает за парсинг XML-документа и получение значения курса валюты по её коду.

`getValueOfCode(String code, String xml)`: принимает код валюты и XML-строку, парсит XML для поиска значения валюты по тегу <CharCode>. Если код найден, возвращает курс валюты из тега <VunitRate>.

## Остальное...

В папке Advice, лежат хендлеры ошибок, которые могут выбрасывать методы.

В папке Config, лежит конфигурация для кэша.

Ну и в папке Exception лежат файлы кастомных ошибок.